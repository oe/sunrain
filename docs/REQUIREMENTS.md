# Sunrain 需求文档

> 版本: 2.0 | 更新日期: 2025-12

## 1. 项目概述

### 1.1 项目名称
**Sunrain** (🌤️ 晴雨) — "Where the sun meets the rain"

### 1.2 项目愿景
为全球用户提供一个开源、免费、注重隐私的心理健康自助平台。

### 1.3 目标用户
- 希望了解自身心理健康状态的普通用户
- 需要放松减压的上班族/学生
- 寻找心理危机援助资源的用户
- 关注心理健康但无法/不愿寻求专业帮助的人群

### 1.4 核心价值
| 价值 | 描述 |
|------|------|
| 隐私优先 | 所有数据仅存储在用户本地设备，不收集任何个人信息 |
| 开放可及 | 开源、免费、支持多语言 |
| 科学循证 | 使用经过验证的标准化量表 |

---

## 2. 功能需求

### 2.1 首页 (Home)
**目的**: 引导用户了解平台功能并快速进入核心模块

**功能点**:
- [ ] Hero 区域展示品牌标语和主要 CTA
- [ ] 三个功能卡片介绍核心模块
- [ ] 支持浅色/深色主题切换
- [ ] 响应式布局，适配移动端

### 2.2 心理测评 (Assessment)

#### 2.2.1 测评列表页
**目的**: 展示可用的测评量表和历史记录

**功能点**:
- [ ] 展示所有可用量表（PHQ-9, GAD-7）
- [ ] 显示量表基本信息（名称、描述、题目数、预计时长）
- [ ] 展示历史测评记录
- [ ] 支持清除历史记录

**量表要求**:
| 量表 | 用途 | 题目数 | 时长 |
|------|------|--------|------|
| PHQ-9 | 抑郁症状筛查 | 9 题 | ~5 分钟 |
| GAD-7 | 焦虑症状筛查 | 7 题 | ~3 分钟 |

#### 2.2.2 测评进行页
**目的**: 引导用户完成测评

**功能点**:
- [ ] 单题展示，逐题作答
- [ ] 显示作答进度条
- [ ] 支持上一题/下一题导航
- [ ] 记录用户选择，支持修改

#### 2.2.3 测评结果页
**目的**: 展示测评结果和建议

**功能点**:
- [ ] 显示总分和对应等级
- [ ] 使用颜色直观表示严重程度
- [ ] 提供针对性建议
- [ ] 显示免责声明
- [ ] 支持重新测评

**结果等级定义 (以 PHQ-9 为例)**:
| 分数范围 | 等级 | 颜色 |
|---------|------|------|
| 0-4 | 极少抑郁 | 绿色 |
| 5-9 | 轻度抑郁 | 黄色 |
| 10-14 | 中度抑郁 | 橙色 |
| 15-27 | 重度抑郁 | 红色 |

### 2.3 呼吸练习 (Breathing)
**目的**: 提供简单有效的放松工具

**功能点**:
- [ ] 可视化呼吸引导圆环
- [ ] 三阶段循环：吸气 → 屏息 → 呼气
- [ ] 显示完成周期数
- [ ] 可自定义各阶段时长
- [ ] 开始/暂停/重置控制

**默认参数**:
- 吸气: 4 秒
- 屏息: 4 秒
- 呼气: 4 秒

### 2.4 危机热线 (Crisis)
**目的**: 为需要帮助的用户提供专业求助渠道

**功能点**:
- [ ] 按国家/地区组织热线信息
- [ ] 显示热线名称、电话、服务时间、支持语言
- [ ] 可点击电话号码直接拨打
- [ ] 支持搜索和筛选
- [ ] 紧急情况提示

**数据要求**:
- 覆盖 30+ 国家/地区
- 包含热线名称、电话、网站、服务时间、支持语言
- 根据当前语言优先显示相关国家

### 2.5 关于页面 (About)
**目的**: 介绍项目背景和重要声明

**功能点**:
- [ ] 项目使命介绍
- [ ] 核心价值展示
- [ ] 免责声明
- [ ] 开源信息和链接

---

## 3. 非功能需求

### 3.1 国际化 (i18n)
**支持语言**:
| 代码 | 语言 |
|------|------|
| en | English (默认) |
| zh | 中文 |
| es | Español |
| ja | 日本語 |
| ko | 한국어 |
| hi | हिन्दी |
| ar | العربية (RTL) |

**要求**:
- 所有 UI 文案需支持多语言
- 问卷内容需支持多语言
- 语言切换即时生效
- 支持 RTL 布局（阿拉伯语）

### 3.2 隐私与安全
- 所有用户数据（测评历史）仅存储在 localStorage
- 不使用 Cookies 追踪用户
- 不收集任何个人识别信息
- 不发送数据到任何服务器

### 3.3 可访问性
- 语义化 HTML 结构
- 足够的颜色对比度
- 键盘可操作
- 屏幕阅读器友好

### 3.4 性能
- 首屏加载 < 3s (3G)
- Lighthouse 性能分数 > 90
- 静态生成，无需服务端运行

### 3.5 浏览器兼容性
- Chrome (最新两个版本)
- Firefox (最新两个版本)
- Safari (最新两个版本)
- Edge (最新两个版本)

---

## 4. 技术约束

### 4.1 框架
- **Astro** - 静态站点生成器
- **TailwindCSS** - 样式框架
- **TypeScript** - 类型安全

### 4.2 部署
- 纯静态 HTML/CSS/JS
- 可部署到 GitHub Pages / Vercel / Netlify
- 无需数据库或后端服务

### 4.3 开源
- MIT 许可证
- 代码托管于 GitHub
- 欢迎社区贡献

---

## 5. 免责声明

本平台提供的所有测评工具和信息仅供参考和自我了解，不能替代专业的心理健康诊断和治疗。

如果您正在经历心理健康危机，请立即联系当地的心理危机热线或寻求专业帮助。

---

## 附录 A: 名词解释

| 术语 | 解释 |
|------|------|
| PHQ-9 | Patient Health Questionnaire-9，9项患者健康问卷，用于抑郁症状筛查 |
| GAD-7 | Generalized Anxiety Disorder-7，7项广泛性焦虑障碍量表 |
| SSG | Static Site Generation，静态站点生成 |
| RTL | Right-to-Left，从右到左的书写方向 |
| localStorage | 浏览器本地存储 API |

